var __awaiter=this&&this.__awaiter||function(k,g,d,e){function c(c){return c instanceof d?c:new d(function(d){d(c)})}return new (d||(d=Promise))(function(d,f){function a(a){try{b(e.next(a))}catch(l){f(l)}}function h(a){try{b(e["throw"](a))}catch(l){f(l)}}function b(b){b.done?d(b.value):c(b.value).then(a,h)}b((e=e.apply(k,g||[])).next())})},__generator=this&&this.__generator||function(k,g){function d(a){return function(b){return e([a,b])}}function e(b){if(h)throw new TypeError("Generator is already executing.");
for(;c;)try{if(h=1,f&&(a=b[0]&2?f["return"]:b[0]?f["throw"]||((a=f["return"])&&a.call(f),0):f.next)&&!(a=a.call(f,b[1])).done)return a;if(f=0,a)b=[b[0]&2,a.value];switch(b[0]){case 0:case 1:a=b;break;case 4:return c.label++,{value:b[1],done:!1};case 5:c.label++;f=b[1];b=[0];continue;case 7:b=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,a=0<a.length&&a[a.length-1])&&(6===b[0]||2===b[0])){c=0;continue}if(3===b[0]&&(!a||b[1]>a[0]&&b[1]<a[3]))c.label=b[1];else if(6===b[0]&&c.label<a[1])c.label=
a[1],a=b;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(b);else{a[2]&&c.ops.pop();c.trys.pop();continue}}b=g.call(k,c)}catch(n){b=[6,n],f=0}finally{h=a=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}var c={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},h,f,a,m;return m={next:d(0),"throw":d(1),"return":d(2)},"function"===typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m};exports.__esModule=!0;
var raw_api=require("./api.json"),axios_1=require("axios"),Functions=require("./functions"),PoliticsAndWar=function(){function k(g,d){void 0===d&&(d="pnw");this.url={};this.allCities=Functions.allCities;this.alliance=Functions.alliance;this.allianceMembers=Functions.allianceMembers;this.alliances=Functions.alliances;this.applicants=Functions.applicants;this.bank=Functions.bank;this.city=Functions.city;this.nation=Functions.nation;this.nationsMilitary=Functions.nationsMilitary;this.nations=Functions.nations;
this.tradeHistory=Functions.tradeHistory;this.tradePrice=Functions.tradePrice;this.war=Functions.war;this.wars=Functions.wars;this.warAttacks=Functions.warAttacks;this.key=g;this.password=d;for(var e in raw_api)"base_url"!=e&&(this.url[e]=raw_api.base_url+raw_api[e].path.replace("${[KEY]}",this.key))}k.prototype.genURL=function(g,d){var e=this.url[g];"gen"!==raw_api[g].type&&(e=this.url[g].replace("${[ID]}",d).replace("${[PARAMS]}",d));return e};k.prototype.showKey=function(g){return g==this.password?
this.key:"Password Incorrect"};k.prototype.setKey=function(g){this.key=g};k.prototype.rawApiCall=function(g,d){void 0===d&&(d="");return __awaiter(this,void 0,void 0,function(){var e,c,h,f;return __generator(this,function(a){switch(a.label){case 0:return e=this.genURL(g,d),[4,axios_1["default"].get(e)["catch"](function(a){console.error(a);return Promise.reject(a)})];case 1:return c=a.sent(),h=c.data,!h.success&&h.hasOwnProperty("success")?(f=h.general_message,[2,Promise.reject(f)]):[2,Promise.resolve(h)]}})})};
return k}();exports["default"]=PoliticsAndWar;module.exports=PoliticsAndWar;